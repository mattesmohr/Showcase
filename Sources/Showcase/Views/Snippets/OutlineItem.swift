import HTMLKit

struct OutlineItem: View {
    
    enum ItemType: String {
        case package
        case folder
        case strings
        case js
        case css
        case swift
    }
    
    let type: String
    
    let label: String
    
    let isExpanded: Bool
    
    let isSelected: Bool
    
    let content: [Content]
    
    init(type: ItemType, label: String, isExpanded: Bool = false, isSelected: Bool = false, @ContentBuilder<Content> content: () -> [Content]) {
        
        self.type = type.rawValue
        self.content = content()
        self.label = label
        self.isExpanded = isExpanded
        self.isSelected = isSelected
    }
    
    var body: Content {
        Division {
            Division {
                switch type {
                case "css":
                    Vector {
                        Path {
                        }
                        .draw("M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6M13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6")
                    }
                    .namespace("http://www.w3.org/2000/svg")
                    .viewBox("0 0 16 16")
                    .fill("#6CC1EA")
                case "js":
                    Vector {
                        Path {
                        }
                        .draw("M2.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C3.25 2 2.49 2.759 2.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6M13.886 7.9v.163c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456V7.332c-1.114 0-1.49-.362-1.49-1.456V4.352C13.51 2.759 12.75 2 11.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6")
                    }
                    .namespace("http://www.w3.org/2000/svg")
                    .viewBox("0 0 16 16")
                    .fill("#FD92BF")
                case "strings":
                    Vector {
                        Path {
                        }
                        .draw("M1.114 8.063V7.9c1.005-.102 1.497-.615 1.497-1.6V4.503c0-1.094.39-1.538 1.354-1.538h.273V2h-.376C2.25 2 1.49 2.759 1.49 4.352v1.524c0 1.094-.376 1.456-1.49 1.456v1.299c1.114 0 1.49.362 1.49 1.456v1.524c0 1.593.759 2.352 2.372 2.352h.376v-.964h-.273c-.964 0-1.354-.444-1.354-1.538V9.663c0-.984-.492-1.497-1.497-1.6M14.886 7.9v.164c-1.005.103-1.497.616-1.497 1.6v1.798c0 1.094-.39 1.538-1.354 1.538h-.273v.964h.376c1.613 0 2.372-.759 2.372-2.352v-1.524c0-1.094.376-1.456 1.49-1.456v-1.3c-1.114 0-1.49-.362-1.49-1.456V4.352C14.51 2.759 13.75 2 12.138 2h-.376v.964h.273c.964 0 1.354.444 1.354 1.538V6.3c0 .984.492 1.497 1.497 1.6M7.5 11.5V9.207l-1.621 1.621-.707-.707L6.792 8.5H4.5v-1h2.293L5.172 5.879l.707-.707L7.5 6.792V4.5h1v2.293l1.621-1.621.707.707L9.208 7.5H11.5v1H9.207l1.621 1.621-.707.707L8.5 9.208V11.5z")
                    }
                    .namespace("http://www.w3.org/2000/svg")
                    .viewBox("0 0 16 16")
                    .fill("#FF876F")
                case "folder":
                    if isExpanded {
                        Vector {
                            Path {
                            }
                            .draw("M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z")
                        }
                        .namespace("http://www.w3.org/2000/svg")
                        .viewBox("0 0 512 512")
                        .fill("gray")
                    } else {
                        Vector {
                            Path {
                            }
                            .draw("M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z")
                        }
                        .namespace("http://www.w3.org/2000/svg")
                        .viewBox("0 0 320 512")
                        .fill("gray")
                    }
                    Vector {
                        Path {
                        }
                        .draw("M64 480H448c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64H288c-10.1 0-19.6-4.7-25.6-12.8L243.2 57.6C231.1 41.5 212.1 32 192 32H64C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64z")
                    }
                    .namespace("http://www.w3.org/2000/svg")
                    .viewBox("0 0 512 512")
                    .fill("#65D1FC")
                case "package":
                    if isExpanded {
                        Vector {
                            Path {
                            }
                            .draw("M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z")
                        }
                        .namespace("http://www.w3.org/2000/svg")
                        .viewBox("0 0 512 512")
                        .fill("gray")
                    } else {
                        Vector {
                            Path {
                            }
                            .draw("M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z")
                        }
                        .namespace("http://www.w3.org/2000/svg")
                        .viewBox("0 0 320 512")
                        .fill("gray")
                    }
                    Vector {
                        Path {
                        }
                        .draw("M15.528 2.973a.75.75 0 0 1 .472.696v8.662a.75.75 0 0 1-.472.696l-7.25 2.9a.75.75 0 0 1-.557 0l-7.25-2.9A.75.75 0 0 1 0 12.331V3.669a.75.75 0 0 1 .471-.696L7.443.184l.01-.003.268-.108a.75.75 0 0 1 .558 0l.269.108.01.003zM10.404 2 4.25 4.461 1.846 3.5 1 3.839v.4l6.5 2.6v7.922l.5.2.5-.2V6.84l6.5-2.6v-.4l-.846-.339L8 5.961 5.596 5l6.154-2.461z")
                    }
                    .namespace("http://www.w3.org/2000/svg")
                    .viewBox("0 0 16 16")
                    .fill("#C4975D")
                case "swift":
                    Vector {
                        Path {
                        }
                        .draw("M14.478,10.459C14.478,10.459 14.477,10.458 14.477,10.458C14.5,10.379 14.524,10.3 14.544,10.219C15.415,6.75 13.29,2.649 9.694,0.49C11.27,2.626 11.967,5.213 11.348,7.476C11.292,7.678 11.226,7.872 11.153,8.06C11.073,8.008 10.973,7.948 10.838,7.874C10.838,7.874 7.261,5.665 3.384,1.759C3.282,1.656 5.452,4.859 7.913,7.46C6.753,6.809 3.521,4.457 1.475,2.585C1.727,3.004 2.026,3.408 2.354,3.796C4.063,5.963 6.291,8.637 8.961,10.69C7.085,11.838 4.435,11.927 1.796,10.691C1.143,10.385 0.53,10.016 -0.038,9.597C1.079,11.384 2.799,12.925 4.893,13.825C7.39,14.898 9.873,14.826 11.723,13.843L11.721,13.845C11.73,13.84 11.74,13.834 11.749,13.828C11.825,13.787 11.9,13.746 11.974,13.702C12.863,13.241 14.618,12.773 15.56,14.606C15.791,15.054 16.281,12.677 14.478,10.459Z")
                    }
                    .namespace("http://www.w3.org/2000/svg")
                    .viewBox("0 0 16 16")
                    .fill("#FC8D3B")
                default:
                    []
                }
                Paragraph {
                    label
                }
            }
            .class("item-label")
            content
        }
        .class("outline-item \(type)")
        .modify(if: isSelected) { division in
            division.class("outline-item selected \(type)")
        }
    }
}
